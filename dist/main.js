!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";r.r(t),((e,t)=>{const r=t.getDOMSelectors(),n=e.Player(t.getPlayersName("player1"),"X"),o=e.Player(t.getPlayersName("player2"),"O");let a=!1;const l=()=>{window.location.reload(!0)},s=()=>{const l=t.getPlayersName("player1"),s=t.getPlayersName("player2");"Player1"!==l&&n.setName(l),"Player2"!==s&&o.setName(s),t.clearBoard();const c=e.Game(e.Board(),n,o),u=document.querySelector(r.board);a?(c.switchPlayer(),t.showMessage(`Play Again! Now ~ ${c.getActivePlayer().getName()} ~ First!!`),a=!1):(t.showMessage(`Game Started! ~ ${c.getActivePlayer().getName()} ~, You First!`),a=!0),t.updateStartButton("start"),t.updatePlayersName();const i=e=>{const r=e.target.id,n=e.target.innerText;if(void 0===r||""!=n)return;t.showMessage(` ~ ${c.getNextPlayer().getName()} ~, you are Next!!!`);const o=c.turn(r);if(void 0!==o){if(t.markPosition(o),c.isGameOver()){const e=c.getWinner();e?(t.showWinCombo(c.getWinCombo()),e.addScore(),t.updatePlayerScore(e),t.showMessage(`Congratulation! ${e.getName()} won!`)):t.showMessage("The Board is full, please try again!"),t.updateStartButton("finish"),u.removeEventListener("click",i)}c.switchPlayer()}};u.addEventListener("click",i)};return{init:()=>{document.querySelector(r.startButton).addEventListener("click",s),document.querySelector(r.resetButton).addEventListener("click",l)}}})({Player:(e,t)=>{let r=0,n=e;return{getName:()=>n,setName:e=>n=e,getSymbol:()=>t,getScore:()=>r,addScore:()=>{r+=1}}},Board:()=>{const e=new Array(9).fill(null),t=[[0,1,2],[3,4,5],[6,7,8],[0,4,8],[0,3,6],[1,4,7],[2,5,8],[2,4,6]],r=r=>{const n=(t=>{const r=[];return e.forEach((e,n)=>{e===t&&r.push(n)}),r})(r);return t.find(e=>e.every(e=>n.includes(e)))};return{mark:(t,r)=>{e[t]=r},getWinCombo:r,isFull:()=>!e.some(e=>null===e),isWon:e=>!!r(e),isEmptyCell:t=>!e[t]}},Game:(e,...t)=>{const r=()=>t[0];return{switchPlayer:()=>t.reverse(),getActivePlayer:r,getNextPlayer:()=>t[1],isGameOver:()=>e.isWon(r().getSymbol())||e.isFull(),getWinner:()=>e.isWon(r().getSymbol())&&t[0],turn:t=>{const n=t.charAt(t.length-1);if(!e.isEmptyCell(n))return;const o=r().getSymbol();return e.mark(n,o),{pos:t,symbol:o}},getWinCombo:()=>e.getWinCombo(r().getSymbol())}}},(()=>{const e={startButton:"#btn-start",resetButton:"#btn-reset",board:"#gameBoard",allCells:".cell",message:"#message-line",gameHelper:"#gameHelper"},t=document.querySelector(e.startButton),r=document.querySelector("#player1-input"),n=document.querySelector("#player2-input"),o=document.querySelector("#player1-display"),a=document.querySelector("#player2-display"),l=document.querySelector("#player1-score"),s=document.querySelector("#player2-score");return{DOMSelectors:e,getDOMSelectors:()=>e,getPlayersName:e=>{switch(e){case"player1":return r.value;case"player2":return n.value;default:return"Anonymous"}},updatePlayersName:()=>{o.innerText=r.value,a.innerText=n.value},updatePlayerScore:e=>{"X"===e.getSymbol()?l.innerText=e.getScore():s.innerText=e.getScore()},markPosition:({pos:e,symbol:t})=>{document.querySelector(`#${e}`).innerText=t},showWinCombo:e=>{e.forEach(e=>{document.querySelector(`#cell${e}`).style.background="lightseagreen"})},showMessage:t=>{document.querySelector(e.message).innerText=t},updateStartButton:(e="")=>{switch(e){case"start":t.innerText="Restart",t.className="btn btn-warning btn-lg btn-block";break;case"finish":t.innerText="Play Again!",t.className="btn btn-success btn-lg btn-block";break;default:t.innerText="Start",t.className="btn btn-primary btn-lg btn-block"}},clearBoard:()=>{document.querySelectorAll(e.allCells).forEach(e=>{e.innerText="",e.style.background="white"})}}})()).init()}]);